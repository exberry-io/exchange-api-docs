# Reporting API

Refer [here](../../ws/reporting-api.md) for mde details on Reporting APIs.

## RFQs

Initiators can use the `rfqs` API to retrieve the full list of all their own RFQs .

{% hint style="info" %}
qualifier: `v1/`exchange.reporting/mp/rfqs
{% endhint %}

### Request

<table><thead><tr><th width="164.33333333333331">Parameter</th><th width="193">Type</th><th>Description</th></tr></thead><tbody><tr><td>dateFrom</td><td>DateTime (GMT)</td><td>Optional<br>Search for orders where <em>Created At ≥ dateFrom</em><br>Format: YYYY-MM-DDThh:mm:ss[.SSS]</td></tr><tr><td>dateTo</td><td>DateTime (GMT)</td><td>Optional<br>Search for orders where <em>Created At &#x3C; dateTo</em><br>Format: YYYY-MM-DDThh:mm:ss[.SSS]</td></tr><tr><td>status</td><td>eNum</td><td><p>Optional<br>RFQ status (Active/Cancelled/Ended)</p><p>Empty Status = All statuses</p></td></tr><tr><td>instruments </td><td>String</td><td><p>Optional </p><p>Search for the RFQs of that instrument.</p><p>Mandatory if rfqId is sent.</p></td></tr><tr><td>mpId </td><td>Int</td><td>Optional<br>Search for orders by MP ID.</td></tr><tr><td>rfqId</td><td>Int</td><td>Optional<br>Search for orders by RFQ ID.</td></tr><tr><td>accountIds</td><td>[]String</td><td><p>Optional</p><p>Array of account Ids </p><p>Search for account ids (party.role=1001 and party.source=D)</p></td></tr><tr><td>orderBy</td><td>Object</td><td><p>Optional</p><p>object with 2 parameters:</p><ul><li>field (String)</li><li>direction (Asc, Desc) direction</li></ul><p>If nothing or invalid field was sent the default is [createdAt, Desc]</p></td></tr><tr><td>limit</td><td>Int</td><td><p>Optional</p><p>How many records to include in each page </p><p>If nothing was sent default is 25</p><p>Max value = 100</p></td></tr><tr><td>offset</td><td>Int</td><td><p>Optional</p><p>Which record to start send from (if you want page 3 and there are 50 records per page offset should be 150) </p><p>If nothing was sent default is 0 (=first record)</p></td></tr></tbody></table>



### **Response**

`rfqs` response provides close to real time list of all current RFQs for the requested period with the entire details of those orders.

<table><thead><tr><th width="150.53013956314607">Field</th><th width="581.9291014014839">Description</th></tr></thead><tbody><tr><td>rfqId</td><td>Unique id generated by the system for the RFQ.</td></tr><tr><td>mpRfqId</td><td>From <code>submitRFQ</code> request</td></tr><tr><td>instrumentId</td><td>Unique id of the instrument</td></tr><tr><td>instrument</td><td>Current Instrument symbol of the RFQ</td></tr><tr><td>mpId</td><td>MP Id of RFQ</td></tr><tr><td>mpName</td><td>Current MP Name of RFQ</td></tr><tr><td>status</td><td><p>One of the below options:</p><ul><li>Active = RFQ was accepted by system and is not yet in final state (cancelled, ended)</li><li>Cancelled = RFQ was cancelled</li><li>Ended = Quote for the RFQ was accepted</li></ul></td></tr><tr><td>side</td><td>From <code>submitRFQ</code> request</td></tr><tr><td>quantity</td><td>From <code>submitRFQ</code> request</td></tr><tr><td>accountType</td><td><p>Optional </p><p>In case was sent on <code>submitRFQ</code></p></td></tr><tr><td>parties</td><td><p>Optional </p><p>In case was sent on <code>submitRFQ</code></p></td></tr><tr><td>expireTime</td><td><p>RFQ expire time in seconds, regardless if sent on submitRFQ request or if the system calculates it.</p><p>Format:  YYYY-MM-DDThh:mm:ss</p></td></tr><tr><td>cancelReason</td><td><p>One of the below options:</p><ul><li>Expiration - when the RFQ is cancelled due to elapsing expireTime</li><li>CancelRequest - when the RFQ is cancelled by the initiator.</li></ul></td></tr><tr><td>createdAt</td><td><p>eventTimestamp of the RFQ acceptance </p><p>format YYYY-MM-DDThh:mm:ss.SSSSSS</p></td></tr><tr><td>lastEventTimestamp</td><td><p>eventTimestamp of the last event of the RFQ</p><p>format YYYY-MM-DDThh:mm:ss.SSSSSS</p></td></tr><tr><td>lastEventId</td><td>eventId of the last event of the RFQ</td></tr></tbody></table>

### **Error Codes**

<table><thead><tr><th width="152">Code</th><th>Message</th></tr></thead><tbody><tr><td>1</td><td><code>Temporary failure to retrieve this data</code></td></tr><tr><td>1007</td><td><code>Invalid session</code></td></tr><tr><td>1008</td><td><code>Insufficient permissions</code></td></tr><tr><td>1001</td><td><code>Wrong [FieldName] format</code> or<br><code>Wrong Status</code> or<br><code>dateTo must be greater than dateFrom</code></td></tr><tr><td>1103</td><td><code>Missing fields: [Fieldname]</code></td></tr></tbody></table>

### **Samples**

{% tabs %}
{% tab title="Request" %}
```javascript
{
  "q": "v1/exchange.reporting/mp/rfqs",
  "sid": 10,
  "d": {
    "dateFrom": "2022-12-01T00:00:01",
    "dateTo": "2025-12-12T00:00:01",
    "status": "Active"
  }
}
```
{% endtab %}

{% tab title="Response" %}
```javascript
{
  "q": "v1/exchange.reporting/mp/rfqs",
  "sid": 10,
  "d": {
    "rfqs": [
      {
        "rfqId": 11,
        "mpQuoteReqId": 1007,
        "instrumentId": 1868,
        "instrument": "RFQINST1",
        "mpId": 14,
        "mpName": "JJJ-1",
        "status": "Active",
        "side": "Buy",
        "quantity": 1300,
        "accountType": "House",
        "parties": [
          {
            "id": "StringId",
            "source": "D",
            "role": 12
          },
          {
            "id": "user123",
            "source": "D",
            "role": 13
          }
        ],
        "expireTime": "2023-11-08T12:33:51",
        "createdAt": "2023-11-08T09:13:51.90019",
        "lastEventTimestamp": "2023-11-08T09:13:51.90019",
        "lastEventId": 19
      }
    ],
    "count": 1
  }
}
```
{% endtab %}
{% endtabs %}



## Quotes

Dealers can use the `quotes` API to retrieve the full list of all their own Quotes.&#x20;

{% hint style="info" %}
qualifier: `v1/`exchange.reporting/mp/quotes
{% endhint %}

### Request

<table><thead><tr><th width="164.33333333333331">Parameter</th><th width="193">Type</th><th>Description</th></tr></thead><tbody><tr><td>dateFrom</td><td>DateTime (GMT)</td><td>Optional<br>Search for orders where <em>Created At ≥ dateFrom</em><br>Format: YYYY-MM-DDThh:mm:ss[.SSS]</td></tr><tr><td>dateTo</td><td>DateTime (GMT)</td><td>Optional<br>Search for orders where <em>Created At &#x3C; dateTo</em><br>Format: YYYY-MM-DDThh:mm:ss[.SSS]</td></tr><tr><td>status</td><td>eNum</td><td><p>Optional<br>RFQ status (Active/Executed/Cancelled)</p><p>Empty Status = All statuses</p></td></tr><tr><td>instruments </td><td>String</td><td><p>Optional </p><p>Search for the RFQs of that instrument.</p><p>Mandatory if rfqId or quoteId is sent.</p></td></tr><tr><td>mpId </td><td>Int</td><td>Optional<br>Search for orders by MP ID.</td></tr><tr><td>rfqId</td><td>Int</td><td>Optional<br>Search for orders by RFQ ID.</td></tr><tr><td>quoteId</td><td>Int</td><td>Optional <br>Search for the Quotes by Quote ID.</td></tr><tr><td>accountIds</td><td>[]String</td><td><p>Optional</p><p>Array of account Ids </p><p>Search for account ids (party.role=1001 and party.source=D)</p></td></tr><tr><td>orderBy</td><td>Object</td><td><p>Optional</p><p>object with 2 parameters:</p><ul><li>field (String)</li><li>direction (Asc, Desc) direction</li></ul><p>If nothing or invalid field was sent the default is [createdAt, Desc]</p></td></tr><tr><td>limit</td><td>Int</td><td><p>Optional</p><p>How many records to include in each page </p><p>If nothing was sent default is 25</p><p>Max value = 100</p></td></tr><tr><td>offset</td><td>Int</td><td><p>Optional</p><p>Which record to start send from (if you want page 3 and there are 50 records per page offset should be 150) </p><p>If nothing was sent default is 0 (=first record)</p></td></tr></tbody></table>



### **Response**

`quotes` response provides close to real time list of all current Quotes for the requested period with the entire details of those orders.

<table><thead><tr><th width="150.53013956314607">Field</th><th width="581.9291014014839">Description</th></tr></thead><tbody><tr><td>quoteId</td><td>Unique id generated by the system for the quote</td></tr><tr><td>mpQuoteId</td><td>From <code>submitQuote</code> request</td></tr><tr><td>rfqId</td><td>Unique id generated by the system for the RFQ.</td></tr><tr><td>instrumentId</td><td>Unique id of the instrument</td></tr><tr><td>instrument</td><td>Current Instrument symbol of the RFQ</td></tr><tr><td>mpId</td><td>MP Id of RFQ</td></tr><tr><td>mpName</td><td>Current MP Name of RFQ</td></tr><tr><td>status</td><td><p>One of the below options:</p><ul><li>Active = Quote is open and can be accepted</li><li>Executed = Quote is executed</li><li>Cancelled = Quote is cancelled</li></ul></td></tr><tr><td>side</td><td>quoteDetails[0].side of the Quote</td></tr><tr><td>price</td><td>quoteDetails[0].price of the Quote</td></tr><tr><td>quantity</td><td>quoteDetails[0].quantity of the Quote</td></tr><tr><td>accountType</td><td><p>Optional </p><p>In case was sent on Quote</p></td></tr><tr><td>parties</td><td><p>Optional </p><p>In case was sent on Quote</p></td></tr><tr><td>cancelReason</td><td><p>One of the below options:</p><ul><li>RFQEnded- when the related RFQ is ended due to the initiator accepting a Quote to trade with.</li><li>Expiration - when the related RFQ is cancelled due to expiration.</li><li>RFQCancelled - when the related RFQ is cancelled by the initiator</li><li>CancelRequest - when the Quote is cancelled by the dealer.</li></ul></td></tr><tr><td>createdAt</td><td><p>eventTimestamp of the RFQ acceptance </p><p>format YYYY-MM-DDThh:mm:ss.SSSSSS</p></td></tr><tr><td>lastEventTimestamp</td><td><p>eventTimestamp of the last event of the RFQ</p><p>format YYYY-MM-DDThh:mm:ss.SSSSSS</p></td></tr><tr><td>lastEventId</td><td>eventId of the last event of the RFQ</td></tr></tbody></table>

### **Error Codes**

<table><thead><tr><th width="152">Code</th><th>Message</th></tr></thead><tbody><tr><td>1</td><td><code>Temporary failure to retrieve this data</code></td></tr><tr><td>1007</td><td><code>Invalid session</code></td></tr><tr><td>1008</td><td><code>Insufficient permissions</code></td></tr><tr><td>1001</td><td><code>Wrong [FieldName] format</code> or<br><code>Wrong Status</code> or<br><code>dateTo must be greater than dateFrom</code></td></tr><tr><td>1103</td><td><code>Missing fields: [Fieldname]</code></td></tr></tbody></table>

### **Samples**

{% tabs %}
{% tab title="Request" %}
```javascript
{
  "q": "v1/exchange.reporting/mp/quotes",
  "sid": 10,
  "d": {
    "dateFrom": "2022-12-01T00:00:01",
    "dateTo": "2025-12-12T00:00:01",
    "status": "Executed"
  }
}
```
{% endtab %}

{% tab title="Response" %}
```javascript
{
  "q": "v1/exchange.reporting/mp/quotes",
  "sid": 10,
  "d": {
    "quotes": [
      {
        "quoteId": 6,
        "mpQuoteId": 1006,
        "rfqId": 5,
        "instrumentId": 4136,
        "instrument": "RFQINST2",
        "mpId": 14,
        "mpName": "JJJ-1",
        "status": "Executed",
        "side": "Sell",
        "price": 15,
        "quantity": 1300,
        "accountType": "House",
        "parties": [
          {
            "id": "StringId",
            "source": "D",
            "role": 12
          },
          {
            "id": "user123",
            "source": "D",
            "role": 13
          }
        ],
        "createdAt": "2023-11-02T13:02:21.686924",
        "lastEventTimestamp": "2023-11-02T13:02:40.328788",
        "lastEventId": 21
      }
    ],
    "count": 1
  }
}
```
{% endtab %}
{% endtabs %}



