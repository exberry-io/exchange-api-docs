# Market Data

Refer [here](../../ws/market-data.md) for more details on Market Data API.

## orderBookDepth

The `orderBookDepth` stream provides RFQ data. This stream is public and all consumers receive the messages simultaneously.

{% hint style="info" %}
qualifier: v2/exchange.market/orderBookDepth
{% endhint %}

### **Request**

<table><thead><tr><th width="170.33333333333331">Parameter</th><th width="84">Type</th><th width="483.66666666666674">Description</th></tr></thead><tbody><tr><td>trackingNumber <code>optional</code></td><td>Long</td><td><p>Determines the starting point of stream.<br>• When set to 0 - Stream will start from first event ever</p><p>• When empty - Stream will start from the next upcoming event</p><p>• When set to specific <code>trackingNumber</code>- Stream will start from the next event after the given <code>trackingNumber</code></p></td></tr></tbody></table>

### **Response**

#### RFQCreated **Message**

RFQCreated Message indicates that a new RFQ has been accepted by the exchange.

<table><thead><tr><th width="223">Field</th><th>Description</th></tr></thead><tbody><tr><td>eventId</td><td>Sequence identifier per instrument for the event</td></tr><tr><td>messageType</td><td><strong>RFQCreated</strong></td></tr><tr><td>eventTimestamp</td><td>Event timestamp (in nanoseconds) in GMT</td></tr><tr><td>instrument</td><td>Instrument symbol</td></tr><tr><td>rfqId</td><td>Unique id generated by the system for the RFQ</td></tr><tr><td>mpId</td><td>Market participant ID</td></tr><tr><td>mpRfqId</td><td>Market participant’s id for the RFQ</td></tr><tr><td>side</td><td>Buy / Sell</td></tr><tr><td>quantity</td><td>RFQ quantity</td></tr><tr><td>trackingNumber</td><td>Event tracking number</td></tr><tr><td>expireTime</td><td>RFQ expiration time</td></tr></tbody></table>



#### RFQCancelled **Message**

RFQCancelled Message indicates that an RFQ has been cancelled.

<table><thead><tr><th width="223">Field</th><th>Description</th></tr></thead><tbody><tr><td>eventId</td><td>Sequence identifier per instrument for the event</td></tr><tr><td>messageType</td><td><strong>RFQCancelled</strong></td></tr><tr><td>eventTimestamp</td><td>Event timestamp (in nanoseconds) in GMT</td></tr><tr><td>instrument</td><td>Instrument symbol</td></tr><tr><td>rfqId</td><td>Unique id generated by the system for the RFQ</td></tr><tr><td>mpId</td><td>Market participant ID</td></tr><tr><td>mpRfqId</td><td>Market participant’s id for the RFQ</td></tr><tr><td>side</td><td>Buy / Sell</td></tr><tr><td>quantity</td><td>RFQ quantity</td></tr><tr><td>trackingNumber</td><td>Event tracking number</td></tr></tbody></table>

####

#### RFQEnded **Message**

RFQCancelled Message indicates that an RFQ has been cancelled.

<table><thead><tr><th width="223">Field</th><th>Description</th></tr></thead><tbody><tr><td>eventId</td><td>Sequence identifier per instrument for the event</td></tr><tr><td>messageType</td><td><strong>RFQEnded</strong></td></tr><tr><td>eventTimestamp</td><td>Event timestamp (in nanoseconds) in GMT</td></tr><tr><td>instrument</td><td>Instrument symbol</td></tr><tr><td>rfqId</td><td>Unique id generated by the system for the RFQ</td></tr><tr><td>mpId</td><td>Market participant ID</td></tr><tr><td>mpRfqId</td><td>Market participant’s id for the RFQ</td></tr><tr><td>side</td><td>Buy / Sell</td></tr><tr><td>quantity</td><td>RFQ quantity</td></tr><tr><td>trackingNumber</td><td>Event tracking number</td></tr></tbody></table>



### **Error Codes**

Refer [here](../../ws/market-data.md#error-codes) for the error codes



### **Samples**

{% tabs %}
{% tab title="Subscription" %}
```javascript
{
  "q": "v1/exchange.market/orderBookDepth",
  "sid": 10,
  "d": {
      "trackingNumber": 100
  }
}
```
{% endtab %}

{% tab title="RFQCreated" %}
```javascript
{
  "q": "v2/exchange.market/orderBookDepth",
  "sid": 14,
  "d": {
    "messageType": "RFQCreated",
    "eventTimestamp": 1697105897785203500,
    "eventId": 1,
    "trackingNumber": 41341792,
    "instrument": "RFQINST2",
    "rfqId": 1,
    "mpId": 14,
    "mpQuoteReqId": 1001,
    "side": "Buy",
    "quantity": 1300,
    "expireTime": 1697165897
  }
}
```
{% endtab %}

{% tab title="RFQCancelled" %}
```javascript
{
  "q": "v2/exchange.market/orderBookDepth",
  "sid": 14,
  "d": {
    "messageType": "RFQCancelled",
    "eventTimestamp": 1697106117625686500,
    "eventId": 20,
    "trackingNumber": 41348554,
    "instrument": "RFQINST2",
    "rfqId": 2,
    "mpId": 14,
    "mpQuoteReqId": 1002,
    "side": "Sell",
    "quantity": 1300
  }
}
```
{% endtab %}

{% tab title="RFQEnded" %}
```javascript
{
{
  "q": "v2/exchange.market/orderBookDepth",
  "sid": 14,
  "d": {
    "messageType": "RFQEnded",
    "eventTimestamp": 1697106117625686800,
    "eventId": 8,
    "trackingNumber": 41348544,
    "instrument": "RFQINST2",
    "rfqId": 1,
    "mpId": 14,
    "mpQuoteReqId": 1001,
    "side": "Buy",
    "quantity": 1300
  }
}
```
{% endtab %}
{% endtabs %}

###

## orderBookState

This stream provides close to real time snapshot of active RFQs for all instruments.\
There are additional messages in the stream, refer [here](../../ws/market-data.md#orderbookstate) for more details.&#x20;

Note: There are no request parameters.

{% hint style="info" %}
qualifier:v2/exchange.market/orderBookState
{% endhint %}

### **Response**

#### RFQ **Message**

<table><thead><tr><th width="207.33333333333331">Parameter</th><th width="135">Type</th><th>Description</th></tr></thead><tbody><tr><td>messageType</td><td>String</td><td><strong>RFQ</strong></td></tr><tr><td>rfqId</td><td>Long</td><td>Unique id generated by the system for the RFQ</td></tr><tr><td>side</td><td>String</td><td>Buy / Sell</td></tr><tr><td>instrument</td><td>String</td><td>Instrument identifier</td></tr><tr><td>quantity</td><td>Decimal</td><td>RFQ quantity</td></tr><tr><td>expireTime</td><td>UTC Time</td><td>RFQ expiration time</td></tr></tbody></table>



#### RFQ **Message**

<table><thead><tr><th width="207.33333333333331">Parameter</th><th width="135">Type</th><th>Description</th></tr></thead><tbody><tr><td>lastTrackingNumber</td><td>Long</td><td>Last event trackingNumber</td></tr></tbody></table>



### **Error Codes**

Refer [here](../../ws/market-data.md#error-codes-1) for the error codes



### **Samples**

{% tabs %}
{% tab title="Subscription" %}
```javascript
{
  "q": "v1/exchange.market/orderBookState",
  "sid": 100,
  "d": {}
}
```
{% endtab %}

{% tab title="RFQ" %}
```javascript
{
  "q": "v2/exchange.market/orderBookState",
  "sid": 100,
  "d": {
    "messageType": "RFQ",
    "rfqId": 2,
    "side": "Buy",
    "instrument": "RFQINST2",
    "quantity": 1300,
    "expireTime": 1698284822
  }
}
```
{% endtab %}

{% tab title="lastTrackingNumber" %}
```javascript
{
  "q": "v2/exchange.market/orderBookState",
  "sid": 100,
  "d": {
    "lastTrackingNumber": 79771712
  }
}
```
{% endtab %}
{% endtabs %}

